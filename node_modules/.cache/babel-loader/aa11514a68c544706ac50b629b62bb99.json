{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rocan\\\\OneDrive\\\\Documents\\\\SummitPrime\\\\frontendDev\\\\src\\\\SummitPrime\\\\Pages\\\\VndaCarrinhosPerdidos\\\\VndaCarrinhosPerdidos.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Button, Col, Container, ProgressBar, Row } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst XLSX = require(\"xlsx\");\n\nexport const VndaCarrinhosPerdidos = () => {\n  _s();\n\n  let data = [];\n  const [max, setMax] = useState(0);\n  const [min, setMin] = useState(0);\n\n  let buscar = async () => {\n    console.log(min);\n    console.log(max);\n\n    for (let i = min; i <= max; i++) {\n      setCarregando(Math.floor((i - min) / (max - min) * 100));\n      axios.get(`https://www.summit.com.br/api/v2/carts/${i}`, {\n        headers: {\n          Authorization: \"Token 8wbGXxFKJFtb2FFLAtMHNcGo\"\n        }\n      }).then(response => {\n        let {\n          data: r\n        } = response;\n\n        if (r && r.items && r.items[0]) {\n          let id = r.id;\n          let carrinhos = r.items;\n          let date = r.updated_at;\n\n          for (let j = 0; j < carrinhos.length; j++) {\n            data.push({\n              ID: id,\n              \"Data de Criaçao\": date,\n              SKU: carrinhos[j].product_reference,\n              \"Nome do Item\": carrinhos[j].product_name\n            });\n          }\n        }\n      });\n    }\n\n    setCarregando(100); // console.log(data);\n  };\n\n  const fazerLista = async () => {\n    await buscar();\n    console.log(data);\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\");\n    XLSX.writeFile(wb, \"CarrinhosPerdidos.xlsx\");\n  };\n\n  const [carregando, setCarregando] = useState(\"\");\n\n  const handleClick = () => {\n    fazerLista();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        position: \"absolute\",\n        width: \"100%\",\n        textAlign: \"center\",\n        marginTop: \"5rem\",\n        fontSize: \"4rem\"\n      },\n      children: \"Carrinhos Perdidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          height: \"100vh\"\n        },\n        className: \"text-center align-items-center justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"text-center align-items-center justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Min.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input1\",\n              defaultValue: min,\n              onChange: e => {\n                setMin(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Max.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input1\",\n              defaultValue: max,\n              onChange: e => {\n                setMax(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), carregando === \"\" ? /*#__PURE__*/_jsxDEV(Row, {\n            className: \"align-items-center justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClick,\n                style: {\n                  padding: \"2.5rem 3rem\",\n                  fontSize: \"3.25rem\",\n                  borderRadius: \".3rem\"\n                },\n                variant: \"outline-light\",\n                children: \"Gerar Excel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Row, {\n            className: \"text-center align-items-center justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [carregando, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n                animated: true,\n                now: carregando\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VndaCarrinhosPerdidos, \"J0o3ALA4eApm6xnCrJfVX7+PWvQ=\");\n\n_c = VndaCarrinhosPerdidos;\n\nvar _c;\n\n$RefreshReg$(_c, \"VndaCarrinhosPerdidos\");","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/SummitPrime/Pages/VndaCarrinhosPerdidos/VndaCarrinhosPerdidos.js"],"names":["axios","React","useState","Button","Col","Container","ProgressBar","Row","XLSX","require","VndaCarrinhosPerdidos","data","max","setMax","min","setMin","buscar","console","log","i","setCarregando","Math","floor","get","headers","Authorization","then","response","r","items","id","carrinhos","date","updated_at","j","length","push","ID","SKU","product_reference","product_name","fazerLista","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","carregando","handleClick","position","width","textAlign","marginTop","fontSize","height","e","target","value","padding","borderRadius"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Col, Container, ProgressBar, Row } from \"react-bootstrap\";\r\n\r\nconst XLSX = require(\"xlsx\");\r\n\r\nexport const VndaCarrinhosPerdidos = () => {\r\n  let data = [];\r\n  const [max, setMax] = useState(0);\r\n  const [min, setMin] = useState(0);\r\n\r\n  let buscar = async () => {\r\n    console.log(min);\r\n    console.log(max);\r\n    for (let i = min; i <= max; i++) {\r\n      setCarregando(Math.floor(((i - min) / (max - min)) * 100));\r\n      axios\r\n        .get(`https://www.summit.com.br/api/v2/carts/${i}`, {\r\n          headers: { Authorization: \"Token 8wbGXxFKJFtb2FFLAtMHNcGo\" },\r\n        })\r\n        .then((response) => {\r\n          let { data: r } = response;\r\n          if (r && r.items && r.items[0]) {\r\n            let id = r.id;\r\n            let carrinhos = r.items;\r\n            let date = r.updated_at;\r\n            for (let j = 0; j < carrinhos.length; j++) {\r\n              data.push({\r\n                ID: id,\r\n                \"Data de Criaçao\": date,\r\n                SKU: carrinhos[j].product_reference,\r\n                \"Nome do Item\": carrinhos[j].product_name,\r\n              });\r\n            }\r\n          }\r\n        });\r\n    }\r\n    setCarregando(100);\r\n    // console.log(data);\r\n  };\r\n  const fazerLista = async () => {\r\n    await buscar();\r\n    console.log(data);\r\n    const ws = XLSX.utils.json_to_sheet(data);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\");\r\n    XLSX.writeFile(wb, \"CarrinhosPerdidos.xlsx\");\r\n  };\r\n  const [carregando, setCarregando] = useState(\"\");\r\n  const handleClick = () => {\r\n    fazerLista();\r\n  };\r\n  return (\r\n    <>\r\n      <h1\r\n        style={{\r\n          position: \"absolute\",\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n          marginTop: \"5rem\",\r\n          fontSize: \"4rem\",\r\n        }}\r\n      >\r\n        Carrinhos Perdidos\r\n      </h1>\r\n      <Container>\r\n        <Row\r\n          style={{ height: \"100vh\" }}\r\n          className=\"text-center align-items-center justify-content-center\"\r\n        >\r\n          <Row className=\"text-center align-items-center justify-content-center\">\r\n            <Col xs={2}>\r\n              <h2>Min.</h2>\r\n              <input\r\n                className=\"input1\"\r\n                defaultValue={min}\r\n                onChange={(e) => {\r\n                  setMin(e.target.value);\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col xs={2}>\r\n              <h2>Max.</h2>\r\n              <input\r\n                className=\"input1\"\r\n                defaultValue={max}\r\n                onChange={(e) => {\r\n                  setMax(e.target.value);\r\n                }}\r\n              />\r\n            </Col>\r\n            {carregando === \"\" ? (\r\n              <Row className=\"align-items-center justify-content-center\">\r\n                <Col xs={6}>\r\n                  <Button\r\n                    onClick={handleClick}\r\n                    style={{\r\n                      padding: \"2.5rem 3rem\",\r\n                      fontSize: \"3.25rem\",\r\n                      borderRadius: \".3rem\",\r\n                    }}\r\n                    variant=\"outline-light\"\r\n                  >\r\n                    Gerar Excel\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            ) : (\r\n              <Row className=\"text-center align-items-center justify-content-center\">\r\n                <Col xs={4}>\r\n                  <h1>{carregando}%</h1>\r\n                  <ProgressBar animated now={carregando} />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n          </Row>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}