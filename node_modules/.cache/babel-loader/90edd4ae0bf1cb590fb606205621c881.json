{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rocan\\\\OneDrive\\\\Documents\\\\SummitPrime\\\\frontendDev\\\\src\\\\SummitPrime\\\\Pages\\\\VndaCarrinhosPerdidos\\\\VndaCarrinhosPerdidos.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Button, Col, Container, ProgressBar, Row } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst XLSX = require(\"xlsx\");\n\nexport const VndaCarrinhosPerdidos = () => {\n  _s();\n\n  const [max, setMax] = useState(0);\n  const [min, setMin] = useState(0);\n\n  let buscar = () => {\n    return new Promise((resolve, reject) => {\n      let data = [];\n\n      for (let i = min; i <= max; i++) {\n        setCarregando(Math.floor((i - min) / (max - min) * 100));\n        axios.defaults.headers.get[\"Access-Control-Allow-Origin\"] = \"*\";\n        axios.get(`https://www.summit.com.br/api/v2/carts/${i}`, {\n          headers: {\n            Authorization: \"Token 8wbGXxFKJFtb2FFLAtMHNcGo\"\n          }\n        }).then(response => {\n          console.log(response);\n          let {\n            data: r\n          } = response;\n\n          if (r && r.items && r.items[0]) {\n            let id = r.id;\n            let carrinhos = r.items;\n            let date = r.updated_at;\n\n            for (let j = 0; j < carrinhos.length; j++) {\n              data.push({\n                ID: id,\n                \"Data de Criaçao\": date,\n                SKU: carrinhos[j].product_reference,\n                \"Nome do Item\": carrinhos[j].product_name\n              });\n            }\n          }\n        });\n      }\n\n      setCarregando(100);\n      resolve(data);\n    });\n  };\n\n  const fazerLista = async () => {\n    let data = await buscar();\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\"); // XLSX.writeFile(wb, \"CarrinhosPerdidos.xlsx\");\n  };\n\n  const [carregando, setCarregando] = useState(\"\");\n\n  const handleClick = () => {\n    fazerLista();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        position: \"absolute\",\n        width: \"100%\",\n        textAlign: \"center\",\n        marginTop: \"5rem\",\n        fontSize: \"4rem\"\n      },\n      children: \"Carrinhos Perdidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          height: \"100vh\"\n        },\n        className: \"text-center align-items-center justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"text-center align-items-center justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Min.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input1\",\n              defaultValue: min,\n              onChange: e => {\n                setMin(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Max.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input1\",\n              defaultValue: max,\n              onChange: e => {\n                setMax(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), carregando === \"\" ? /*#__PURE__*/_jsxDEV(Row, {\n            className: \"align-items-center justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClick,\n                style: {\n                  padding: \"2.5rem 3rem\",\n                  fontSize: \"3.25rem\",\n                  borderRadius: \".3rem\"\n                },\n                variant: \"outline-light\",\n                children: \"Gerar Excel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Row, {\n            className: \"text-center align-items-center justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [carregando, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n                animated: true,\n                now: carregando\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VndaCarrinhosPerdidos, \"J0o3ALA4eApm6xnCrJfVX7+PWvQ=\");\n\n_c = VndaCarrinhosPerdidos;\n\nvar _c;\n\n$RefreshReg$(_c, \"VndaCarrinhosPerdidos\");","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/SummitPrime/Pages/VndaCarrinhosPerdidos/VndaCarrinhosPerdidos.js"],"names":["axios","React","useState","Button","Col","Container","ProgressBar","Row","XLSX","require","VndaCarrinhosPerdidos","max","setMax","min","setMin","buscar","Promise","resolve","reject","data","i","setCarregando","Math","floor","defaults","headers","get","Authorization","then","response","console","log","r","items","id","carrinhos","date","updated_at","j","length","push","ID","SKU","product_reference","product_name","fazerLista","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","carregando","handleClick","position","width","textAlign","marginTop","fontSize","height","e","target","value","padding","borderRadius"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,EAAiCC,WAAjC,EAA8CC,GAA9C,QAAyD,iBAAzD;;;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAEA,OAAO,MAAMC,qBAAqB,GAAG,MAAM;AAAA;;AACzC,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBV,QAAQ,CAAC,CAAD,CAA9B;AACA,QAAM,CAACW,GAAD,EAAMC,MAAN,IAAgBZ,QAAQ,CAAC,CAAD,CAA9B;;AAEA,MAAIa,MAAM,GAAG,MAAM;AACjB,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,CAAC,GAAGP,GAAb,EAAkBO,CAAC,IAAIT,GAAvB,EAA4BS,CAAC,EAA7B,EAAiC;AAC/BC,QAAAA,aAAa,CAACC,IAAI,CAACC,KAAL,CAAY,CAACH,CAAC,GAAGP,GAAL,KAAaF,GAAG,GAAGE,GAAnB,CAAD,GAA4B,GAAvC,CAAD,CAAb;AACAb,QAAAA,KAAK,CAACwB,QAAN,CAAeC,OAAf,CAAuBC,GAAvB,CAA2B,6BAA3B,IAA4D,GAA5D;AACA1B,QAAAA,KAAK,CACF0B,GADH,CACQ,0CAAyCN,CAAE,EADnD,EACsD;AAClDK,UAAAA,OAAO,EAAE;AACPE,YAAAA,aAAa,EAAE;AADR;AADyC,SADtD,EAMGC,IANH,CAMSC,QAAD,IAAc;AAClBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,cAAI;AAAEV,YAAAA,IAAI,EAAEa;AAAR,cAAcH,QAAlB;;AACA,cAAIG,CAAC,IAAIA,CAAC,CAACC,KAAP,IAAgBD,CAAC,CAACC,KAAF,CAAQ,CAAR,CAApB,EAAgC;AAC9B,gBAAIC,EAAE,GAAGF,CAAC,CAACE,EAAX;AACA,gBAAIC,SAAS,GAAGH,CAAC,CAACC,KAAlB;AACA,gBAAIG,IAAI,GAAGJ,CAAC,CAACK,UAAb;;AACA,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCnB,cAAAA,IAAI,CAACqB,IAAL,CAAU;AACRC,gBAAAA,EAAE,EAAEP,EADI;AAER,mCAAmBE,IAFX;AAGRM,gBAAAA,GAAG,EAAEP,SAAS,CAACG,CAAD,CAAT,CAAaK,iBAHV;AAIR,gCAAgBR,SAAS,CAACG,CAAD,CAAT,CAAaM;AAJrB,eAAV;AAMD;AACF;AACF,SAtBH;AAuBD;;AACDvB,MAAAA,aAAa,CAAC,GAAD,CAAb;AACAJ,MAAAA,OAAO,CAACE,IAAD,CAAP;AACD,KA/BM,CAAP;AAgCD,GAjCD;;AAmCA,QAAM0B,UAAU,GAAG,YAAY;AAC7B,QAAI1B,IAAI,GAAG,MAAMJ,MAAM,EAAvB;AAEA,UAAM+B,EAAE,GAAGtC,IAAI,CAACuC,KAAL,CAAWC,aAAX,CAAyB7B,IAAzB,CAAX;AACA,UAAM8B,EAAE,GAAGzC,IAAI,CAACuC,KAAL,CAAWG,QAAX,EAAX;AACA1C,IAAAA,IAAI,CAACuC,KAAL,CAAWI,iBAAX,CAA6BF,EAA7B,EAAiCH,EAAjC,EAAqC,QAArC,EAL6B,CAM7B;AACD,GAPD;;AAQA,QAAM,CAACM,UAAD,EAAa/B,aAAb,IAA8BnB,QAAQ,CAAC,EAAD,CAA5C;;AACA,QAAMmD,WAAW,GAAG,MAAM;AACxBR,IAAAA,UAAU;AACX,GAFD;;AAGA,sBACE;AAAA,4BACE;AACE,MAAA,KAAK,EAAE;AACLS,QAAAA,QAAQ,EAAE,UADL;AAELC,QAAAA,KAAK,EAAE,MAFF;AAGLC,QAAAA,SAAS,EAAE,QAHN;AAILC,QAAAA,SAAS,EAAE,MAJN;AAKLC,QAAAA,QAAQ,EAAE;AALL,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAYE,QAAC,SAAD;AAAA,6BACE,QAAC,GAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE;AAAV,SADT;AAEE,QAAA,SAAS,EAAC,uDAFZ;AAAA,+BAIE,QAAC,GAAD;AAAK,UAAA,SAAS,EAAC,uDAAf;AAAA,kCACE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,CAAT;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,cAAA,SAAS,EAAC,QADZ;AAEE,cAAA,YAAY,EAAE9C,GAFhB;AAGE,cAAA,QAAQ,EAAG+C,CAAD,IAAO;AACf9C,gBAAAA,MAAM,CAAC8C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACD;AALH;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAWE,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,CAAT;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,cAAA,SAAS,EAAC,QADZ;AAEE,cAAA,YAAY,EAAEnD,GAFhB;AAGE,cAAA,QAAQ,EAAGiD,CAAD,IAAO;AACfhD,gBAAAA,MAAM,CAACgD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACD;AALH;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,EAqBGV,UAAU,KAAK,EAAf,gBACC,QAAC,GAAD;AAAK,YAAA,SAAS,EAAC,2CAAf;AAAA,mCACE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAA,qCACE,QAAC,MAAD;AACE,gBAAA,OAAO,EAAEC,WADX;AAEE,gBAAA,KAAK,EAAE;AACLU,kBAAAA,OAAO,EAAE,aADJ;AAELL,kBAAAA,QAAQ,EAAE,SAFL;AAGLM,kBAAAA,YAAY,EAAE;AAHT,iBAFT;AAOE,gBAAA,OAAO,EAAC,eAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADD,gBAiBC,QAAC,GAAD;AAAK,YAAA,SAAS,EAAC,uDAAf;AAAA,mCACE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAA,sCACE;AAAA,2BAAKZ,UAAL;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,WAAD;AAAa,gBAAA,QAAQ,MAArB;AAAsB,gBAAA,GAAG,EAAEA;AAA3B;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAtCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAZF;AAAA,kBADF;AAoED,CAvHM;;GAAM1C,qB;;KAAAA,qB","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Col, Container, ProgressBar, Row } from \"react-bootstrap\";\r\n\r\nconst XLSX = require(\"xlsx\");\r\n\r\nexport const VndaCarrinhosPerdidos = () => {\r\n  const [max, setMax] = useState(0);\r\n  const [min, setMin] = useState(0);\r\n\r\n  let buscar = () => {\r\n    return new Promise((resolve, reject) => {\r\n      let data = [];\r\n      for (let i = min; i <= max; i++) {\r\n        setCarregando(Math.floor(((i - min) / (max - min)) * 100));\r\n        axios.defaults.headers.get[\"Access-Control-Allow-Origin\"] = \"*\";\r\n        axios\r\n          .get(`https://www.summit.com.br/api/v2/carts/${i}`, {\r\n            headers: {\r\n              Authorization: \"Token 8wbGXxFKJFtb2FFLAtMHNcGo\",\r\n            },\r\n          })\r\n          .then((response) => {\r\n            console.log(response);\r\n            let { data: r } = response;\r\n            if (r && r.items && r.items[0]) {\r\n              let id = r.id;\r\n              let carrinhos = r.items;\r\n              let date = r.updated_at;\r\n              for (let j = 0; j < carrinhos.length; j++) {\r\n                data.push({\r\n                  ID: id,\r\n                  \"Data de Criaçao\": date,\r\n                  SKU: carrinhos[j].product_reference,\r\n                  \"Nome do Item\": carrinhos[j].product_name,\r\n                });\r\n              }\r\n            }\r\n          });\r\n      }\r\n      setCarregando(100);\r\n      resolve(data);\r\n    });\r\n  };\r\n\r\n  const fazerLista = async () => {\r\n    let data = await buscar();\r\n\r\n    const ws = XLSX.utils.json_to_sheet(data);\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Sheet1\");\r\n    // XLSX.writeFile(wb, \"CarrinhosPerdidos.xlsx\");\r\n  };\r\n  const [carregando, setCarregando] = useState(\"\");\r\n  const handleClick = () => {\r\n    fazerLista();\r\n  };\r\n  return (\r\n    <>\r\n      <h1\r\n        style={{\r\n          position: \"absolute\",\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n          marginTop: \"5rem\",\r\n          fontSize: \"4rem\",\r\n        }}\r\n      >\r\n        Carrinhos Perdidos\r\n      </h1>\r\n      <Container>\r\n        <Row\r\n          style={{ height: \"100vh\" }}\r\n          className=\"text-center align-items-center justify-content-center\"\r\n        >\r\n          <Row className=\"text-center align-items-center justify-content-center\">\r\n            <Col xs={2}>\r\n              <h2>Min.</h2>\r\n              <input\r\n                className=\"input1\"\r\n                defaultValue={min}\r\n                onChange={(e) => {\r\n                  setMin(e.target.value);\r\n                }}\r\n              />\r\n            </Col>\r\n            <Col xs={2}>\r\n              <h2>Max.</h2>\r\n              <input\r\n                className=\"input1\"\r\n                defaultValue={max}\r\n                onChange={(e) => {\r\n                  setMax(e.target.value);\r\n                }}\r\n              />\r\n            </Col>\r\n            {carregando === \"\" ? (\r\n              <Row className=\"align-items-center justify-content-center\">\r\n                <Col xs={6}>\r\n                  <Button\r\n                    onClick={handleClick}\r\n                    style={{\r\n                      padding: \"2.5rem 3rem\",\r\n                      fontSize: \"3.25rem\",\r\n                      borderRadius: \".3rem\",\r\n                    }}\r\n                    variant=\"outline-light\"\r\n                  >\r\n                    Gerar Excel\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            ) : (\r\n              <Row className=\"text-center align-items-center justify-content-center\">\r\n                <Col xs={4}>\r\n                  <h1>{carregando}%</h1>\r\n                  <ProgressBar animated now={carregando} />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n          </Row>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}