{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rocan\\\\OneDrive\\\\Documents\\\\SummitPrime\\\\frontendDev\\\\src\\\\Screens\\\\Vnda\\\\VndaCarrinhosPerdidosDashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Col, Container, ProgressBar, Row } from 'react-bootstrap';\nimport { getCarrinhoPerdido } from '../../Utils/callBackend';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst XLSX = require('xlsx');\n\nexport const VndaCarrinhosPerdidosDashboard = () => {\n  _s();\n\n  let data = [];\n  const [max, setMax] = useState(0);\n  const [min, setMin] = useState(0);\n\n  let buscar = async () => {\n    for (let i = min; i <= max; i++) {\n      setCarregando(Math.floor((i - min) / (max - min) * 100));\n      await getCarrinhoPerdido(i).then(r => {\n        if (r && r.items && r.items[0]) {\n          let id = r.id;\n          let carrinhos = r.items;\n          let date = r.updated_at;\n\n          for (let j = 0; j < carrinhos.length; j++) {\n            data.push({\n              ID: id,\n              'Data de Criaçao': date,\n              SKU: carrinhos[j].product_reference,\n              'Nome do Item': carrinhos[j].product_name\n            });\n          }\n        }\n      }).catch(() => {});\n    }\n\n    setCarregando(100); // console.log(data);\n  };\n\n  const fazerLista = async () => {\n    await buscar();\n    console.log(data);\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Sheet1');\n    XLSX.writeFile(wb, 'CarrinhosPerdidos.xlsx');\n  };\n\n  const [carregando, setCarregando] = useState('');\n\n  const handleClick = () => {\n    fazerLista();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        position: 'absolute',\n        width: '100%',\n        textAlign: 'center',\n        marginTop: '5rem',\n        fontSize: '4rem'\n      },\n      children: \"Carrinhos Perdidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          height: \"100vh\"\n        },\n        className: \"text-center align-items-center justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"text-center align-items-center justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Min.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input1\",\n              defaultValue: min,\n              onChange: e => {\n                setMin(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 2,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Max.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input1\",\n              defaultValue: max,\n              onChange: e => {\n                setMax(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), carregando === '' ? /*#__PURE__*/_jsxDEV(Row, {\n            className: \"align-items-center justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClick,\n                style: {\n                  padding: '2.5rem 3rem',\n                  fontSize: '3.25rem',\n                  borderRadius: '.3rem'\n                },\n                variant: \"outline-light\",\n                children: \"Gerar Excel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 18\n          }, this) : /*#__PURE__*/_jsxDEV(Row, {\n            className: \"text-center align-items-center justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [carregando, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n                animated: true,\n                now: carregando\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(VndaCarrinhosPerdidosDashboard, \"giq1xWmzUaDf4qORHyXtgcO9GPM=\");\n\n_c = VndaCarrinhosPerdidosDashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"VndaCarrinhosPerdidosDashboard\");","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/Screens/Vnda/VndaCarrinhosPerdidosDashboard.js"],"names":["React","useState","Button","Col","Container","ProgressBar","Row","getCarrinhoPerdido","XLSX","require","VndaCarrinhosPerdidosDashboard","data","max","setMax","min","setMin","buscar","i","setCarregando","Math","floor","then","r","items","id","carrinhos","date","updated_at","j","length","push","ID","SKU","product_reference","product_name","catch","fazerLista","console","log","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","carregando","handleClick","position","width","textAlign","marginTop","fontSize","height","e","target","value","padding","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Button, Col, Container, ProgressBar, Row } from 'react-bootstrap'\r\nimport { getCarrinhoPerdido } from '../../Utils/callBackend'\r\nconst XLSX = require('xlsx')\r\n\r\nexport const VndaCarrinhosPerdidosDashboard = () => {\r\n    let data = []\r\n    const [max, setMax] = useState(0)\r\n    const [min, setMin] = useState(0)\r\n\r\n    let buscar = async()=>{\r\n        for (let i = min; i <= max; i++) {\r\n            setCarregando(Math.floor(((i-min)/(max-min))*100))\r\n            await getCarrinhoPerdido(i).then((r)=>{\r\n                if(r && r.items && r.items[0]){\r\n                    let id = r.id\r\n                    let carrinhos = r.items\r\n                    let date = r.updated_at\r\n                    for (let j = 0; j < carrinhos.length; j++) {\r\n                        data.push({\r\n                            ID : id,\r\n                            'Data de Criaçao': date,\r\n                            SKU: carrinhos[j].product_reference,\r\n                            'Nome do Item': carrinhos[j].product_name\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n            .catch(()=>{})\r\n        }\r\n        setCarregando(100)\r\n        // console.log(data);\r\n    }\r\nconst fazerLista = async()=>{\r\n    await buscar()\r\n    console.log(data);\r\n    const ws = XLSX.utils.json_to_sheet(data)\r\n    const wb = XLSX.utils.book_new()\r\n    XLSX.utils.book_append_sheet(wb, ws, 'Sheet1')\r\n    XLSX.writeFile(wb, 'CarrinhosPerdidos.xlsx')\r\n}\r\n    const [carregando, setCarregando] = useState('')\r\n    const handleClick = ()=>{\r\n        fazerLista()\r\n    }\r\n    return (\r\n        <>\r\n    <h1 style={{\r\n    position: 'absolute',\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    marginTop: '5rem',\r\n    fontSize: '4rem'\r\n    }}>Carrinhos Perdidos</h1>                  \r\n    <Container >\r\n                \r\n        <Row style={{ height: \"100vh\" }} className=\"text-center align-items-center justify-content-center\">\r\n            <Row className=\"text-center align-items-center justify-content-center\">\r\n            <Col xs={2}>\r\n                <h2>Min.</h2>\r\n            <input className='input1' defaultValue={min} onChange={(e)=>{setMin(e.target.value)}}/>\r\n            </Col>\r\n            <Col xs={2}>\r\n                <h2>Max.</h2>\r\n            <input className='input1' defaultValue={max} onChange={(e)=>{setMax(e.target.value)}}/>\r\n            </Col>\r\n                {carregando === '' ? \r\n                (<Row className=\"align-items-center justify-content-center\">\r\n                    <Col xs={6}>\r\n                    <Button \r\n                    onClick={handleClick}\r\n                    style={{padding: '2.5rem 3rem',\r\n                    fontSize: '3.25rem',\r\n                    borderRadius: '.3rem'}} \r\n                    variant=\"outline-light\" \r\n                    >Gerar Excel</Button>\r\n                    </Col>\r\n                </Row>)\r\n                : \r\n                (<Row className=\"text-center align-items-center justify-content-center\">\r\n                    <Col xs={4}>\r\n                        <h1>{carregando}%</h1>\r\n                    <ProgressBar animated now={carregando} />\r\n                    </Col>\r\n                </Row> )}\r\n            </Row>\r\n        </Row>\r\n    </Container>\r\n    </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}